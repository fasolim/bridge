<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåâ Bridge - Bug Resolver Interface</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>üåâ Bridge</h1>
                <p class="subtitle">Sistema Autom√°tico de Resolu√ß√£o de Bugs</p>
            </div>
            <div class="status-indicator" id="statusIndicator">
                <span class="status-dot"></span>
                <span class="status-text">Conectado</span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Strategy Selector -->
            <section class="card strategy-section">
                <h2>üéØ Estrat√©gia de Resolu√ß√£o</h2>
                <div class="strategy-selector">
                    <div class="strategy-option" data-strategy="nao-iniciado">
                        <div class="strategy-icon">üöÄ</div>
                        <div class="strategy-info">
                            <h3>Bugs N√£o Iniciados</h3>
                            <p>Resolve todos os bugs com status "N√£o Iniciado"</p>
                        </div>
                    </div>

                    <div class="strategy-option" data-strategy="reprovado">
                        <div class="strategy-icon">üîÑ</div>
                        <div class="strategy-info">
                            <h3>Bugs Reprovados</h3>
                            <p>Retrabalha bugs que foram reprovados em testes</p>
                        </div>
                    </div>

                    <div class="strategy-option" data-strategy="em-andamento">
                        <div class="strategy-icon">‚ö°</div>
                        <div class="strategy-info">
                            <h3>Bugs Em Andamento</h3>
                            <p>Continua bugs que j√° foram iniciados</p>
                        </div>
                    </div>

                    <div class="strategy-option" data-strategy="prioridade-alta">
                        <div class="strategy-icon">üî•</div>
                        <div class="strategy-info">
                            <h3>Alta Prioridade</h3>
                            <p>Foca apenas em bugs cr√≠ticos e urgentes</p>
                        </div>
                    </div>

                    <div class="strategy-option" data-strategy="todos-pendentes">
                        <div class="strategy-icon">üìã</div>
                        <div class="strategy-info">
                            <h3>Todos os Pendentes</h3>
                            <p>Resolve todos os bugs n√£o conclu√≠dos</p>
                        </div>
                    </div>

                    <div class="strategy-option" data-strategy="custom">
                        <div class="strategy-icon">‚öôÔ∏è</div>
                        <div class="strategy-info">
                            <h3>Personalizado</h3>
                            <p>Define filtros customizados no Notion</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Configuration Form -->
            <section class="card config-section">
                <h2>‚öôÔ∏è Configura√ß√£o</h2>
                <form id="configForm">
                    <!-- Notion Database -->
                    <div class="form-group">
                        <label for="notionDatabaseUrl">
                            <span class="label-icon">üìä</span>
                            URL do Database do Notion
                        </label>
                        <input 
                            type="url" 
                            id="notionDatabaseUrl" 
                            name="notionDatabaseUrl"
                            placeholder="https://notion.so/workspace/database-id"
                            required
                        >
                        <small class="form-hint">Cole a URL completa do database de bugs</small>
                    </div>

                    <!-- Project Selection -->
                    <div class="form-group">
                        <label for="projectName">
                            <span class="label-icon">üìÅ</span>
                            Projeto
                        </label>
                        <select id="projectName" name="projectName" required>
                            <option value="">Carregando...</option>
                        </select>
                        <small class="form-hint">O sistema vai buscar automaticamente a arquitetura nos Docs do projeto</small>
                    </div>

                    <!-- GitHub Repo -->
                    <div class="form-group">
                        <label for="githubRepo">
                            <span class="label-icon">üåê</span>
                            Reposit√≥rio GitHub (opcional)
                        </label>
                        <input 
                            type="url" 
                            id="githubRepo" 
                            name="githubRepo"
                            placeholder="https://github.com/user/repo"
                        >
                    </div>

                    <!-- Custom Filter (only for custom strategy) -->
                    <div class="form-group" id="customFilterGroup" style="display: none;">
                        <label for="customFilter">
                            <span class="label-icon">üîç</span>
                            Filtro Personalizado
                        </label>
                        <textarea 
                            id="customFilter" 
                            name="customFilter"
                            rows="3"
                            placeholder='Ex: Status = "Em Revis√£o" AND Prioridade = "M√©dia"'
                        ></textarea>
                        <small class="form-hint">Defina condi√ß√µes espec√≠ficas para busca no Notion</small>
                    </div>

                    <!-- Auto Commit -->
                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="autoCommit" name="autoCommit" checked>
                            <span class="checkbox-custom"></span>
                            <span>Fazer commit autom√°tico no GitHub</span>
                        </label>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-primary" id="submitBtn">
                        <span class="btn-icon">üöÄ</span>
                        Iniciar Resolu√ß√£o Autom√°tica
                    </button>
                </form>
            </section>

            <!-- Results Section -->
            <section class="card results-section" id="resultsSection" style="display: none;">
                <h2>üìä Resultado</h2>
                <div id="resultsContent"></div>
            </section>

            <!-- Recent Tasks -->
            <section class="card tasks-section">
                <div class="section-header">
                    <h2>üìã Tarefas Recentes</h2>
                    <button class="btn btn-secondary btn-sm" id="refreshTasksBtn">
                        <span class="btn-icon">üîÑ</span>
                        Atualizar
                    </button>
                </div>
                <div id="tasksList" class="tasks-list">
                    <div class="loading">Carregando tarefas...</div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Bridge v2.0 - Sistema de Automa√ß√£o de Bug Fixing | Powered by Cursor AI & Notion</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>

